Function AdvScreen::loadCg(Reference this, Reference spr, String filename)
	PUSH_VAR spr
	PUSH_VAR filename
	PUSH_VAL String ".eri"
	+
	CALL_METHOD LoadImage
	PUSH_VAL Integer 0i
	!=
	JUMP_OK _l_159
	PUSH_VAL Integer 0i
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_159

	INIT_LOCAL struct SpriteParam sprParam
	INIT_LOCAL struct Sprite sprTemp
	PUSH_VAL struct File struct
	PUSH_VAR filename
	PUSH_VAL Integer 3i
	CALL_METHOD Left
	PUSH_VAL String ".eri"
	+
	CALL_METHOD IsExisting
	JUMP_OK _l_32
	PUSH_VAR sprTemp
	PUSH_VAR filename
	PUSH_VAL Integer 3i
	CALL_METHOD Left
	PUSH_VAL String ".eri"
	+
	CALL_METHOD LoadImage
	NOP
	JUMP _l_64
@_l_32:
	PUSH_VAL struct File struct
	PUSH_VAR filename
	PUSH_VAL Integer 4i
	CALL_METHOD Left
	PUSH_VAL String ".eri"
	+
	CALL_METHOD IsExisting
	JUMP_OK _l_49
	PUSH_VAR sprTemp
	PUSH_VAR filename
	PUSH_VAL Integer 4i
	CALL_METHOD Left
	PUSH_VAL String ".eri"
	+
	CALL_METHOD LoadImage
	NOP
	JUMP _l_64
@_l_49:
	PUSH_VAR filename
	PUSH_VAL Integer 0i
	CALL_METHOD Char
	PUSH_VAL Integer 66i
	==
	JUMP_OK _l_60
	PUSH_VAR sprTemp
	PUSH_VAL String "dummyBg.eri"
	CALL_METHOD LoadImage
	NOP
	JUMP _l_64
@_l_60:
	PUSH_VAR sprTemp
	PUSH_VAL String "dummyEv.eri"
	CALL_METHOD LoadImage
	NOP
@_l_64:
	PUSH_VAR sprTemp
	PUSH_VAR sprParam
	CALL_METHOD GetParameter
	NOP
	PUSH_VAR spr
	PUSH_VAL Integer 1i
	PUSH_OBJ  2
	GET_FIELD w
	PUSH_OBJ  2
	GET_FIELD h
	CALL_METHOD CreateSprite
	NOP
	PUSH_VAR sprParam
	GET_FIELD ptDstPos
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	CALL IPoint
	POP =
	NOP
	PUSH_VAR spr
	PUSH_VAR sprTemp
	PUSH_VAR sprParam
	CALL_METHOD DrawImage
	NOP
	PUSH_VAR spr
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	CALL_METHOD SetBackColor
	NOP
	INIT_LOCAL struct DrawTextParam param
	PUSH_VAR param
	GET_FIELD rcArea
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	PUSH_OBJ  2
	GET_FIELD w
	PUSH_OBJ  2
	GET_FIELD h
	CALL IRect
	POP =
	NOP
	PUSH_VAR param
	GET_FIELD ptCurPos
	PUSH_VAL Integer 32i
	PUSH_VAL Integer 16i
	CALL IPoint
	POP =
	NOP
	PUSH_VAR param
	GET_FIELD rgbColor
	PUSH_VAL Integer 255i
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	CALL RGB
	POP =
	NOP
	PUSH_VAR param
	GET_FIELD nTransparency
	PUSH_VAL Integer 0i
	POP =
	NOP
	PUSH_VAR param
	GET_FIELD nLineHeight
	PUSH_VAL Integer 50i
	POP =
	NOP
	PUSH_VAR param
	GET_FIELD nIndentWidth
	PUSH_VAL Integer 50i
	POP =
	NOP
	PUSH_VAR param
	GET_FIELD nFontSize
	PUSH_VAL Integer 48i
	POP =
	NOP
	PUSH_VAR param
	GET_FIELD strFontFace
	PUSH_VAL String "ＭＳ ゴシック"
	POP =
	NOP
	PUSH_VAR spr
	PUSH_VAR param
	PUSH_VAL String "仮 : "
	PUSH_VAR filename
	+
	CALL_METHOD DrawText
	NOP
	PUSH_VAL String "CG.log"
	PUSH_VAL String "NotFound-"
	PUSH_VAR filename
	+
	CALL OutputLogText
	NOP
	NOP
@_l_159:
	PUSH_VAR spr
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	CALL_METHOD SetBackColor
	NOP
	PUSH_VAL Integer 0i
	Return
EndFunc

