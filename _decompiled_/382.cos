Function AdvScreen::scroll(Reference this, Integer x, Integer y, Integer time, Integer accel, Integer fWait)
	PUSH_FIELD fSetCg
	PUSH_VAL Integer 0i
	==
	JUMP_OK _l_85
	PUSH_FIELD sprCg
	CALL_METHOD IsActivation
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_12
	PUSH_FIELD sprCg
	CALL_METHOD FlushActivation
	NOP
@_l_12:

	INIT_LOCAL struct SpriteParam param
	PUSH_FIELD sprCg
	PUSH_VAR param
	CALL_METHOD GetParameter
	NOP
	INIT_LOCAL struct Bezier2D bz
	PUSH_VAR bz
	PUSH_VAR param
	GET_FIELD ptDstPos
	GET_FIELD x
	PUSH_VAR param
	GET_FIELD ptDstPos
	GET_FIELD y
	PUSH_VAR x
	logic_unk1
	PUSH_VAR y
	logic_unk1
	CALL_METHOD SetLinear
	NOP
	PUSH_VAR bz
	PUSH_VAR accel
	PUSH_VAL Integer 0i
	CALL_METHOD SetAcceleration
	NOP
	PUSH_FIELD sprCg
	PUSH_VAR bz
	CALL_METHOD SetBezierCurve
	NOP
	INIT_LOCAL Integer fFlush
	PUSH_OBJ  5
	GET_FIELD screenEffect
	PUSH_VAL Integer 1i
	==
	POP =
	PUSH_VAR fFlush
	CALL isSkip
	PUSH_UNK
	PUSH_VAL Integer 6i
	CALL_METHOD IsJoyButtonPushing
	or
	POP |=
	NOP
	PUSH_VAR fFlush
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_64
	PUSH_FIELD sprCg
	PUSH_VAL Integer 0i
	CALL_METHOD BeginActivation
	NOP
	JUMP _l_68
@_l_64:
	PUSH_FIELD sprCg
	PUSH_VAR time
	CALL_METHOD BeginActivation
	NOP
@_l_68:
	PUSH_VAR fWait
	PUSH_VAL Integer 0i
	!=
	JUMP_OK _l_76
	PUSH_FIELD sprCg
	PUSH_VAL Integer -1i
	CALL WaitUntilSpriteActive
	NOP
@_l_76:
	PUSH_FIELD cg
	GET_FIELD pt
	PUSH_VAR x
	PUSH_VAR y
	CALL IPoint
	POP =
	NOP
	NOP
	JUMP _l_103
@_l_85:
	PUSH_FIELD fUpdate
	PUSH_VAL Integer -1i
	POP =
	NOP
	PUSH_FIELD fScroll
	PUSH_VAL Integer -1i
	POP =
	NOP
	PUSH_FIELD scrlParam
	PUSH_VAR x
	logic_unk1
	PUSH_VAR y
	logic_unk1
	CALL IPoint
	PUSH_VAR time
	PUSH_VAR accel
	CALL_METHOD set
	NOP
@_l_103:
	PUSH_VAL Integer 0i
	Return
EndFunc

