Function AdvScreen::setupSelectItem(Reference this)
	INIT_LOCAL Integer i
	PUSH_VAR i
	PUSH_VAL Integer 0i
	POP =
	NOP
@_l_5:
	PUSH_VAR i
	PUSH_FIELD sprSelect
	CALL_METHOD GetLength
	<=
	JUMP_OK _l_21
	PUSH_UNK
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	CALL_METHOD DetachSprite
	NOP
	PUSH_VAR i
	PUSH_VAL Integer 1i
	POP +=
	NOP
	JUMP _l_5
@_l_21:
	PUSH_FIELD sprSelect
	CALL_METHOD Remove
	NOP
	INIT_LOCAL struct Point curPos
	PUSH_VAR curPos
	PUSH_FIELD msgFrame
	GET_FIELD msprMess
	CALL_METHOD GetCursorPos
	POP =
	NOP
	INIT_LOCAL Integer start_y
	PUSH_VAL Integer 264i
	PUSH_VAL Integer 52i
	PUSH_FIELD selectItem
	CALL_METHOD GetLength
	*
	PUSH_VAL Integer 2i
	/
	-
	POP =
	INIT_LOCAL struct SpriteParam param
	PUSH_VAR i
	PUSH_VAL Integer 0i
	POP =
	NOP
@_l_46:
	PUSH_VAR i
	PUSH_FIELD selectItem
	CALL_METHOD GetLength
	<=
	JUMP_OK _l_127
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAL struct Sprite struct
	POP =
	NOP
	PUSH_UNK
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "ID_PAGE_ADVSELECT"
	CALL_METHOD CreateFormPage
	NOP
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAR param
	CALL_METHOD GetParameter
	NOP
	PUSH_VAR param
	GET_FIELD ptRevCenter
	PUSH_VAL Integer 375i
	PUSH_VAL Integer 24i
	CALL IPoint
	POP =
	NOP
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAR param
	CALL_METHOD SetParameter
	NOP
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAL Integer 400i
	PUSH_VAR start_y
	PUSH_VAL Integer 52i
	PUSH_VAR i
	*
	+
	CALL_METHOD MovePosition
	NOP
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "ID_TEXT"
	PUSH_FIELD selectItem
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	CALL_METHOD SetSpriteText
	NOP
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAL Integer 256i
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	PUSH_UNK
	PUSH_VAL Integer 50600i
	PUSH_FIELD sprSelect
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	CALL_METHOD AddSprite
	NOP
	PUSH_VAR i
	PUSH_VAL Integer 1i
	POP +=
	NOP
	JUMP _l_46
@_l_127:
	PUSH_VAL Integer 0i
	Return
EndFunc

