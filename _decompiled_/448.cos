Function BustupManager::adjustPosition(Reference this)
	INIT_LOCAL parent id_rel
	INIT_LOCAL Integer num
	CALL numPoeple
	POP =
	INIT_LOCAL Integer i
	PUSH_VAL Integer 0i
	POP =
	INIT_LOCAL Integer cnt
	PUSH_VAL Integer 0i
	POP =
@_l_10:
	PUSH_VAR i
	PUSH_VAL Integer 5i
	<=
	JUMP_OK _l_70
	PUSH_FIELD info
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	GET_FIELD id
	PUSH_VAL Integer -1i
	!=
	PUSH_FIELD info
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	GET_FIELD status
	PUSH_VAL Integer 8i
	!=
	and
	PUSH_FIELD info
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	GET_FIELD fPosFix
	PUSH_VAL Integer 0i
	==
	and
	JUMP_OK _l_65
	PUSH_VAR id_rel
	PUSH_VAR cnt
	GET_FIELD_BY_OFFSET
	PUSH_VAL struct BustupInfo struct
	POP =
	NOP
	PUSH_VAR id_rel
	PUSH_VAR cnt
	GET_FIELD_BY_OFFSET
	GET_FIELD id
	PUSH_FIELD info
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	GET_FIELD id
	POP =
	NOP
	PUSH_VAR id_rel
	PUSH_VAR cnt
	GET_FIELD_BY_OFFSET
	GET_FIELD relation
	PUSH_FIELD info
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	GET_FIELD relation
	POP =
	NOP
	PUSH_VAR cnt
	PUSH_VAL Integer 1i
	POP +=
	NOP
@_l_65:
	PUSH_VAR i
	PUSH_VAL Integer 1i
	POP +=
	NOP
	JUMP _l_10
@_l_70:
	INIT_LOCAL struct BustupInfo temp
	INIT_LOCAL Integer m
	INIT_LOCAL Integer n
	PUSH_VAR m
	PUSH_VAL Integer 0i
	POP =
	NOP
@_l_77:
	PUSH_VAR m
	PUSH_VAR cnt
	PUSH_VAL Integer 1i
	-
	<=
	JUMP_OK _l_118
	PUSH_VAR n
	PUSH_VAR m
	PUSH_VAL Integer 1i
	+
	POP =
	NOP
@_l_89:
	PUSH_VAR n
	PUSH_VAR cnt
	<=
	JUMP_OK _l_113
	PUSH_VAR id_rel
	PUSH_VAR m
	GET_FIELD_BY_OFFSET
	GET_FIELD relation
	PUSH_VAR id_rel
	PUSH_VAR n
	GET_FIELD_BY_OFFSET
	GET_FIELD relation
	>
	JUMP_OK _l_108
	PUSH_VAR id_rel
	PUSH_VAR m
	PUSH_VAR n
	CALL_METHOD Swap
	NOP
@_l_108:
	PUSH_VAR n
	PUSH_VAL Integer 1i
	POP +=
	NOP
	JUMP _l_89
@_l_113:
	PUSH_VAR m
	PUSH_VAL Integer 1i
	POP +=
	NOP
	JUMP _l_77
@_l_118:
	INIT_LOCAL parent pos
	PUSH_VAR cnt
	PUSH_VAL Integer 1i
	==
	JUMP_OK _l_128
	PUSH_VAR pos
	PUSH_VAL Integer 6i
	POP +=
	NOP
	JUMP _l_203
@_l_128:
	PUSH_VAR cnt
	PUSH_VAL Integer 2i
	==
	JUMP_OK _l_141
	PUSH_VAR pos
	PUSH_VAL Integer 4i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 8i
	POP +=
	NOP
	JUMP _l_203
@_l_141:
	PUSH_VAR cnt
	PUSH_VAL Integer 3i
	==
	JUMP_OK _l_158
	PUSH_VAR pos
	PUSH_VAL Integer 3i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 6i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 9i
	POP +=
	NOP
	JUMP _l_203
@_l_158:
	PUSH_VAR cnt
	PUSH_VAL Integer 4i
	==
	JUMP_OK _l_179
	PUSH_VAR pos
	PUSH_VAL Integer 3i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 5i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 7i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 9i
	POP +=
	NOP
	JUMP _l_203
@_l_179:
	PUSH_VAR cnt
	PUSH_VAL Integer 5i
	==
	JUMP_OK _l_203
	PUSH_VAR pos
	PUSH_VAL Integer 2i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 4i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 6i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 8i
	POP +=
	NOP
	PUSH_VAR pos
	PUSH_VAL Integer 10i
	POP +=
	NOP
@_l_203:
	PUSH_VAR i
	PUSH_VAL Integer 0i
	POP =
	NOP
@_l_207:
	PUSH_VAR i
	PUSH_VAR cnt
	<=
	JUMP_OK _l_268
	PUSH_VAR m
	PUSH_VAL Integer 0i
	POP =
	NOP
@_l_215:
	PUSH_VAR m
	PUSH_VAL Integer 5i
	<=
	JUMP_OK _l_263
	PUSH_VAR id_rel
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	GET_FIELD id
	PUSH_FIELD info
	PUSH_VAR m
	GET_FIELD_BY_OFFSET
	GET_FIELD id
	==
	JUMP_OK _l_258
	PUSH_FIELD info
	PUSH_VAR m
	GET_FIELD_BY_OFFSET
	GET_FIELD pos
	PUSH_VAL Integer 0i
	<=
	JUMP_OK _l_248
	PUSH_FIELD info
	PUSH_VAR m
	GET_FIELD_BY_OFFSET
	GET_FIELD pos
	PUSH_FIELD info
	PUSH_VAR m
	GET_FIELD_BY_OFFSET
	GET_FIELD pos
	logic_unk1
	POP =
	NOP
	JUMP _l_257
@_l_248:
	PUSH_FIELD info
	PUSH_VAR m
	GET_FIELD_BY_OFFSET
	GET_FIELD pos
	PUSH_VAR pos
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	POP =
	NOP
@_l_257:
	JUMP _l_263
@_l_258:
	PUSH_VAR m
	PUSH_VAL Integer 1i
	POP +=
	NOP
	JUMP _l_215
@_l_263:
	PUSH_VAR i
	PUSH_VAL Integer 1i
	POP +=
	NOP
	JUMP _l_207
@_l_268:
	PUSH_VAL Integer 0i
	Return
EndFunc

