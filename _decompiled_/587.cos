Function Load(String filename)
	PUSH_VAL String "Load:"
	PUSH_VAR filename
	+
	CALL Debug
	NOP
	CALL StopBgm
	NOP
	CALL StopEnvSe
	NOP
	CALL StopSe
	NOP
	CALL StopVoice
	NOP
	INIT_LOCAL struct File file
	PUSH_VAR file
	PUSH_VAR filename
	PUSH_VAL String ".dat"
	+
	PUSH_VAL Integer 2i
	CALL_METHOD Open
	NOP
	INIT_LOCAL Integer ret
	PUSH_VAR file
	PUSH_OBJ  4
	CALL_METHOD LoadObject
	POP =
	PUSH_VAR file
	CALL_METHOD Close
	NOP
	PUSH_VAR ret
	PUSH_VAL Integer 0i
	==
	PUSH_VAL Integer 200i
	PUSH_OBJ  4
	GET_FIELD version
	==
	and
	JUMP_OK _l_43
	CALL ShowLoadEffect
	NOP
	CALL EnterLoad
	NOP
	JUMP _l_54
@_l_43:
	PUSH_VAL String "セーブデータに異常があり、ゲームを終了します。"
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 5000i
	CALL Confirm
	NOP
	PUSH_UNK
	CALL_METHOD Lock
	NOP
	CALL_UNK @CATCH
	Return unknown
@_l_54:
	PUSH_VAL Integer 0i
	Return
EndFunc

