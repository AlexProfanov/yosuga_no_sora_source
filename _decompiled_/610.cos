Function LoadSaveWindow::run(Reference this, Reference arrayHideSpr, Reference arrayShowSpr)
	INIT_LOCAL Integer ret
	PUSH_VAL Integer 0i
	POP =
	INIT_LOCAL Integer i
	PUSH_VAR arrayHideSpr
	CALL_METHOD GetType
	PUSH_VAL String "Array"
	==
	JUMP_OK _l_27

	INIT_LOCAL Integer index
	PUSH_VAR arrayHideSpr
	CALL_METHOD GetLength
	POP =
	PUSH_VAR arrayHideSpr
	PUSH_VAR index
	GET_FIELD_BY_OFFSET
	PUSH_VAL Reference ref
	POP =
	NOP
	PUSH_VAR arrayHideSpr
	PUSH_VAR index
	GET_FIELD_BY_OFFSET
	PUSH_FIELD sprBase
	POP =
	NOP
	NOP
@_l_27:
	INIT_LOCAL struct SpriteParam param
	INIT_LOCAL struct Bezier2D bzMag
	PUSH_UNK
	CALL_METHOD FlushJoyButtonPushed
	NOP
	PUSH_UNK
	PUSH_VAL Integer -1i
	CALL_METHOD FlushCommandQueue
	NOP
	INIT_LOCAL struct WndSpriteCmd wscmd
@_l_37:
	PUSH_VAL Integer -1i
	JUMP_OK _l_380
	PUSH_VAR bzMag
	PUSH_VAL Integer 33i
	CALL GetCommand
	NOP
	PUSH_VAL Integer 0i
	JUMP_OK _l_46
	JUMP _l_379
@_l_46:
	PUSH_VAR bzMag
	GET_FIELD strID
	PUSH_VAL String "ID_SELECT"
	==
	JUMP_OK _l_255

	INIT_LOCAL parent aParam
	PUSH_VAR bzMag
	GET_FIELD strFullID
	PUSH_VAL String "%s&\\ID_SELECT&(<0-9>*)&\\ID_SELECT&"
	PUSH_VAR wscmd
	CALL_METHOD IsMatchUsage
	PUSH_VAL String ""
	==
	JUMP_OK _l_249
	PUSH_VAL Integer 0i
	JUMP_OK _l_64
	JUMP _l_243
@_l_64:
	PUSH_VAR wscmd
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "01"
	==
	JUMP_OK _l_84
	PUSH_VAR ret
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	PUSH_VAL Integer 3i
	*
	PUSH_VAL Integer 0i
	+
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL loadsave
	POP =
	NOP
	JUMP _l_243
@_l_84:
	PUSH_VAR wscmd
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "02"
	==
	JUMP_OK _l_104
	PUSH_VAR ret
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	PUSH_VAL Integer 3i
	*
	PUSH_VAL Integer 1i
	+
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL loadsave
	POP =
	NOP
	JUMP _l_243
@_l_104:
	PUSH_VAR wscmd
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "03"
	==
	JUMP_OK _l_124
	PUSH_VAR ret
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	PUSH_VAL Integer 3i
	*
	PUSH_VAL Integer 2i
	+
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL loadsave
	POP =
	NOP
	JUMP _l_243
@_l_124:
	PUSH_VAR wscmd
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "04"
	==
	JUMP_OK _l_144
	PUSH_VAR ret
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	PUSH_VAL Integer 3i
	*
	PUSH_VAL Integer 3i
	+
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL loadsave
	POP =
	NOP
	JUMP _l_243
@_l_144:
	PUSH_VAR wscmd
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "05"
	==
	JUMP_OK _l_164
	PUSH_VAR ret
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	PUSH_VAL Integer 3i
	*
	PUSH_VAL Integer 4i
	+
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL loadsave
	POP =
	NOP
	JUMP _l_243
@_l_164:
	PUSH_VAR wscmd
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "06"
	==
	JUMP_OK _l_184
	PUSH_VAR ret
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	PUSH_VAL Integer 3i
	*
	PUSH_VAL Integer 5i
	+
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL loadsave
	POP =
	NOP
	JUMP _l_243
@_l_184:
	PUSH_VAR wscmd
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "07"
	==
	JUMP_OK _l_204
	PUSH_VAR ret
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	PUSH_VAL Integer 3i
	*
	PUSH_VAL Integer 6i
	+
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL loadsave
	POP =
	NOP
	JUMP _l_243
@_l_204:
	PUSH_VAR wscmd
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "08"
	==
	JUMP_OK _l_224
	PUSH_VAR ret
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	PUSH_VAL Integer 3i
	*
	PUSH_VAL Integer 7i
	+
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL loadsave
	POP =
	NOP
	JUMP _l_243
@_l_224:
	PUSH_VAR wscmd
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL String "09"
	==
	JUMP_OK _l_243
	PUSH_VAR ret
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	PUSH_VAL Integer 3i
	*
	PUSH_VAL Integer 8i
	+
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL loadsave
	POP =
	NOP
@_l_243:
	PUSH_VAR ret
	PUSH_VAL Integer 40i
	==
	JUMP_OK _l_249
	NOP
	JUMP _l_380
@_l_249:
	PUSH_UNK
	PUSH_VAL Integer -1i
	CALL_METHOD FlushCommandQueue
	NOP
	NOP
	JUMP _l_379
@_l_255:
	PUSH_VAR bzMag
	GET_FIELD strID
	PUSH_VAL String "ID_SCROLL"
	==
	JUMP_OK _l_270
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	CALL setPage
	NOP
	PUSH_UNK
	PUSH_VAL Integer -1i
	CALL_METHOD FlushCommandQueue
	NOP
	JUMP _l_379
@_l_270:
	PUSH_UNK
	PUSH_VAL Integer 0i
	CALL_METHOD GetJoyButtonPushed
	PUSH_VAL Integer 0i
	>
	JUMP_OK _l_305

	INIT_LOCAL Integer temp
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	POP =
	PUSH_FIELD sprFrame
	PUSH_VAR wscmd
	PUSH_VAL Integer 1i
	-
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD SetVertScrollPos
	NOP
	PUSH_VAR wscmd
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	!=
	JUMP_OK _l_300
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	CALL setPage
	NOP
@_l_300:
	PUSH_UNK
	CALL_METHOD FlushJoyButtonPushed
	NOP
	NOP
	JUMP _l_379
@_l_305:
	PUSH_UNK
	PUSH_VAL Integer 1i
	CALL_METHOD GetJoyButtonPushed
	PUSH_VAL Integer 0i
	>
	JUMP_OK _l_340

	INIT_LOCAL Integer temp
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	POP =
	PUSH_FIELD sprFrame
	PUSH_VAR wscmd
	PUSH_VAL Integer 1i
	+
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD SetVertScrollPos
	NOP
	PUSH_VAR wscmd
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	!=
	JUMP_OK _l_335
	PUSH_FIELD sprFrame
	PUSH_VAL String "ID_SCROLL"
	CALL_METHOD GetVertScrollPos
	CALL setPage
	NOP
@_l_335:
	PUSH_UNK
	CALL_METHOD FlushJoyButtonPushed
	NOP
	NOP
	JUMP _l_379
@_l_340:
	PUSH_VAR bzMag
	GET_FIELD strID
	PUSH_VAL String "ID_QSAVE"
	==
	PUSH_UNK
	PUSH_VAL Integer 17i
	CALL_METHOD GetJoyButtonPushed
	PUSH_VAL Integer 0i
	>
	or
	JUMP_OK _l_372
	PUSH_OBJ  6
	GET_FIELD fQSave
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_369
	PUSH_VAL String "クイックロードします"
	PUSH_VAL Integer -1i
	CALL Confirm
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_369
	CALL QuickLoad
	NOP
	PUSH_VAR ret
	PUSH_VAL Integer 40i
	POP =
	NOP
	JUMP _l_380
@_l_369:
	CALL FlushJoyButton
	NOP
	JUMP _l_379
@_l_372:
	PUSH_UNK
	PUSH_VAL Integer 5i
	CALL_METHOD GetJoyButtonPushed
	PUSH_VAL Integer 0i
	>
	JUMP_OK _l_379
	JUMP _l_380
@_l_379:
	JUMP _l_37
@_l_380:
	PUSH_FIELD sprBase
	PUSH_VAL Integer 0i
	CALL_METHOD Enable
	NOP
	PUSH_UNK
	CALL_METHOD FlushJoyButtonPushed
	NOP
	PUSH_UNK
	PUSH_VAL Integer -1i
	CALL_METHOD FlushCommandQueue
	NOP
	PUSH_VAR ret
	Return
	PUSH_VAL Integer 0i
	Return
EndFunc

