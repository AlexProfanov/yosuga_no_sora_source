Function MessageFrame::output(Reference this, String name, String mess, Integer fFlush)
	PUSH_VAR fFlush
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_11
	PUSH_FIELD msprMess
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 256i
	CALL_METHOD SetDefaultMsgSpeed
	NOP
	JUMP _l_18
@_l_11:
	PUSH_FIELD msprMess
	PUSH_OBJ  5
	GET_FIELD messageSpeed
	PUSH_VAL Integer 50i
	PUSH_VAL Integer 256i
	CALL_METHOD SetDefaultMsgSpeed
	NOP
@_l_18:
	PUSH_OBJ  5
	GET_FIELD screenEffect
	PUSH_VAL Integer 1i
	==
	JUMP_OK _l_27
	PUSH_VAR fFlush
	PUSH_VAL Integer -1i
	POP =
	NOP
@_l_27:
	PUSH_FIELD preName
	PUSH_VAR name
	!=
	JUMP_OK _l_47
	PUSH_FIELD msprName
	CALL_METHOD ClearMessage
	NOP
	PUSH_VAR name
	PUSH_VAL String ""
	!=
	JUMP_OK _l_47
	PUSH_FIELD msprName
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 2i
	CALL_METHOD MoveCursorPos
	NOP
	PUSH_FIELD msprName
	PUSH_VAR name
	CALL_METHOD OutputMessage
	NOP
@_l_47:
	PUSH_FIELD preName
	PUSH_VAR name
	POP =
	NOP
	PUSH_FIELD msprMess
	PUSH_VAR mess
	CALL_METHOD OutputMessage
	NOP
	PUSH_FIELD posBlink
	PUSH_FIELD msprMess
	CALL_METHOD GetCursorPos
	POP =
	NOP
	PUSH_VAL Integer 0i
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_108

	INIT_LOCAL struct Point pos
	PUSH_VAR pos
	PUSH_FIELD msprMess
	CALL_METHOD GetCursorPos
	POP =
	NOP
	PUSH_VAR pos
	GET_FIELD x
	PUSH_VAL Integer -32i
	<=
	JUMP_OK _l_107
	PUSH_VAL String "ページオーバーです。"
	CALL Debug
	NOP

	INIT_LOCAL Reference rName
	INIT_LOCAL Reference rMess
	INIT_LOCAL Reference rVoice
	PUSH_OBJ  4
	GET_FIELD novelLog
	PUSH_VAL Integer 0i
	PUSH_VAR rName
	PUSH_VAR rMess
	PUSH_VAR rVoice
	CALL_METHOD get
	NOP
	PUSH_VAL String "PageOver.log"
	PUSH_VAL String ""
	PUSH_OBJ  4
	GET_FIELD scenarioCall
	+
	PUSH_VAL String ":
"
	+
	PUSH_VAR rMess
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	+
	PUSH_VAL String "
"
	+
	CALL OutputLogText
	NOP
	NOP
@_l_107:
	NOP
@_l_108:
	PUSH_VAL Integer 0i
	Return
EndFunc

