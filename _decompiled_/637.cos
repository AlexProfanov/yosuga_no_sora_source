Function MessageFrame::create(Reference this, Integer style)
	PUSH_FIELD isCreate
	PUSH_VAL Integer -1i
	POP =
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 67108865i
	PUSH_VAL Integer 750i
	PUSH_VAL Integer 152i
	CALL_METHOD CreateSprite
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 256i
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	INIT_LOCAL struct SpriteParam param
	PUSH_FIELD sprParent
	PUSH_VAR param
	CALL_METHOD GetParameter
	NOP
	PUSH_VAR param
	GET_FIELD ptRevCenter
	PUSH_VAL Integer 750i
	PUSH_VAL Integer 2i
	/
	PUSH_VAL Integer 152i
	PUSH_VAL Integer 2i
	/
	CALL IPoint
	POP =
	NOP
	PUSH_FIELD sprParent
	PUSH_VAR param
	CALL_METHOD SetParameter
	NOP
	PUSH_UNK
	PUSH_VAL Integer 50700i
	PUSH_FIELD sprParent
	CALL_METHOD AddSprite
	NOP
	PUSH_FIELD sprFrame
	PUSH_UNK
	GET_FIELD ID_FRM_0101
	CALL_METHOD AttachImage
	NOP
	PUSH_FIELD sprFrame
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	CALL_METHOD MovePosition
	NOP
	PUSH_FIELD sprFrame
	PUSH_VAL Integer 0i
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprFrame
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 10i
	PUSH_FIELD sprFrame
	CALL_METHOD AddSprite
	NOP
	PUSH_FIELD sprBase
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_VAL struct Sprite struct
	POP =
	NOP
	PUSH_FIELD sprBase
	PUSH_VAL Integer 0i
	GET_FIELD_BY_OFFSET
	PUSH_UNK
	GET_FIELD ID_FRM_0102B
	CALL_METHOD AttachImage
	NOP
	PUSH_FIELD sprBase
	PUSH_VAL Integer 1i
	GET_FIELD_BY_OFFSET
	PUSH_VAL struct Sprite struct
	POP =
	NOP
	PUSH_FIELD sprBase
	PUSH_VAL Integer 1i
	GET_FIELD_BY_OFFSET
	PUSH_UNK
	GET_FIELD ID_FRM_0106B
	CALL_METHOD AttachImage
	NOP
	INIT_LOCAL Integer i
	PUSH_VAL Integer 0i
	POP =
@_l_95:
	PUSH_VAR i
	PUSH_VAL Integer 2i
	<=
	JUMP_OK _l_132
	PUSH_FIELD sprBase
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	CALL_METHOD MovePosition
	NOP
	PUSH_FIELD sprBase
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAL Integer 256i
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprBase
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 50i
	PUSH_VAR i
	+
	PUSH_FIELD sprBase
	PUSH_VAR i
	GET_FIELD_BY_OFFSET
	CALL_METHOD AddSprite
	NOP
	PUSH_VAR i
	PUSH_VAL Integer 1i
	POP +=
	NOP
	JUMP _l_95
@_l_132:
	PUSH_VAL Integer 0i
	CALL view
	NOP
	PUSH_UNK
	PUSH_FIELD sprMenu
	PUSH_VAL String "ID_PAGE_ADV_MENU"
	CALL_METHOD CreateFormPage
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 9i
	PUSH_VAL Integer 124i
	CALL_METHOD MovePosition
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 0i
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 49i
	PUSH_FIELD sprMenu
	CALL_METHOD AddSprite
	NOP
	PUSH_OBJ  6
	GET_FIELD fQSave
	CALL enableQLoad
	NOP
	PUSH_VAL Integer 0i
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_187
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 128i
	PUSH_VAL String "ID_SAVE"
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 0i
	PUSH_VAL String "ID_SAVE"
	CALL_METHOD Enable
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 128i
	PUSH_VAL String "ID_LOAD"
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 0i
	PUSH_VAL String "ID_LOAD"
	CALL_METHOD Enable
	NOP
	JUMP _l_231
@_l_187:
	CALL IsRecollectMode
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_231
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 128i
	PUSH_VAL String "ID_QSAVE"
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 0i
	PUSH_VAL String "ID_QSAVE"
	CALL_METHOD Enable
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 128i
	PUSH_VAL String "ID_QLOAD"
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 0i
	PUSH_VAL String "ID_QLOAD"
	CALL_METHOD Enable
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 128i
	PUSH_VAL String "ID_SAVE"
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 0i
	PUSH_VAL String "ID_SAVE"
	CALL_METHOD Enable
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 128i
	PUSH_VAL String "ID_LOAD"
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprMenu
	PUSH_VAL Integer 0i
	PUSH_VAL String "ID_LOAD"
	CALL_METHOD Enable
	NOP
@_l_231:
	PUSH_UNK
	PUSH_FIELD sprClose
	PUSH_VAL String "ID_PAGE_ADV_CLOSE"
	CALL_METHOD CreateFormPage
	NOP
	PUSH_FIELD sprClose
	PUSH_VAL Integer 727i
	PUSH_VAL Integer 7i
	CALL_METHOD MovePosition
	NOP
	PUSH_FIELD sprClose
	PUSH_VAL Integer 0i
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprClose
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 48i
	PUSH_FIELD sprClose
	CALL_METHOD AddSprite
	NOP
	PUSH_UNK
	PUSH_FIELD sprVoice
	PUSH_VAL String "ID_PAGE_ADV_VOICE"
	CALL_METHOD CreateFormPage
	NOP
	PUSH_FIELD sprVoice
	PUSH_VAL Integer 689i
	PUSH_VAL Integer 6i
	CALL_METHOD MovePosition
	NOP
	PUSH_FIELD sprVoice
	PUSH_VAL Integer 256i
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprVoice
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 47i
	PUSH_FIELD sprVoice
	CALL_METHOD AddSprite
	NOP
	PUSH_FIELD msprName
	PUSH_VAL Integer 320i
	PUSH_VAL Integer 36i
	CALL_METHOD CreateMessage
	NOP
	PUSH_FIELD msprName
	PUSH_UNK
	PUSH_VAL String "ID_FONT_NAME"
	CALL_METHOD AttachMessageStyle
	NOP
	PUSH_FIELD msprName
	PUSH_VAL Integer 27i
	PUSH_VAL Integer 5i
	CALL_METHOD MovePosition
	NOP
	PUSH_FIELD msprName
	PUSH_VAL Integer -1i
	CALL_METHOD SetFontBordering
	NOP
	PUSH_FIELD msprName
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 256i
	CALL_METHOD SetDefaultMsgSpeed
	NOP
	PUSH_FIELD msprName
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	PUSH_FIELD msprName
	PUSH_VAL String "・"
	CALL_METHOD OutputMessage
	NOP
	PUSH_FIELD msprName
	CALL_METHOD ClearMessage
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 30i
	PUSH_FIELD msprName
	CALL_METHOD AddSprite
	NOP
	PUSH_FIELD msprMess
	PUSH_VAL Integer 684i
	PUSH_VAL Integer 90i
	CALL_METHOD CreateMessage
	NOP
	PUSH_FIELD msprMess
	PUSH_UNK
	PUSH_VAL String "ID_FONT_MESSAGE"
	CALL_METHOD AttachMessageStyle
	NOP
	PUSH_FIELD msprMess
	PUSH_VAL Integer 39i
	PUSH_VAL Integer 40i
	CALL_METHOD MovePosition
	NOP
	PUSH_FIELD msprMess
	PUSH_VAL Integer -1i
	CALL_METHOD SetFontBordering
	NOP
	PUSH_FIELD msprMess
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 0i
	PUSH_VAL Integer 256i
	CALL_METHOD SetDefaultMsgSpeed
	NOP
	PUSH_FIELD msprMess
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	PUSH_FIELD msprMess
	PUSH_VAL String "・"
	CALL_METHOD OutputMessage
	NOP
	PUSH_FIELD msprMess
	CALL_METHOD ClearMessage
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 30i
	PUSH_FIELD msprMess
	CALL_METHOD AddSprite
	NOP
	PUSH_FIELD sprBlinkHit
	PUSH_UNK
	GET_FIELD ID_FRM_0103
	CALL_METHOD AttachImage
	NOP
	PUSH_FIELD sprBlinkHit
	PUSH_VAL Integer 256i
	CALL_METHOD SetTransparency
	NOP
	PUSH_FIELD sprBlinkHit
	PUSH_VAL Integer -1i
	CALL_METHOD SetVisible
	NOP
	PUSH_FIELD sprParent
	PUSH_VAL Integer 40i
	PUSH_FIELD sprBlinkHit
	CALL_METHOD AddSprite
	NOP
	PUSH_FIELD preName
	PUSH_VAL String ""
	POP =
	NOP
	PUSH_FIELD isShow
	PUSH_VAL Integer 0i
	POP =
	NOP
	PUSH_VAL Integer 400i
	PUSH_VAL Integer 520i
	CALL position
	NOP
	CALL clearPage
	NOP
	PUSH_VAL Integer 0i
	Return
EndFunc

