Function NormalSave(Integer id, Reference arrayHideSpr, Reference arrayShowSpr)
	PUSH_VAL Integer 0i
	PUSH_VAR id
	<
	PUSH_VAR id
	PUSH_VAL Integer 60i
	<=
	and
	JUMP_OK _l_133

	INIT_LOCAL String name
	INIT_LOCAL String mess
	PUSH_VAR name
	PUSH_OBJ  4
	GET_FIELD nameLog
	PUSH_VAL Integer 0i
	CALL_METHOD get
	POP =
	NOP
	PUSH_VAR mess
	PUSH_OBJ  4
	GET_FIELD messLog
	PUSH_VAL Integer 0i
	CALL_METHOD get
	POP =
	NOP
	INIT_LOCAL String comment
	INIT_LOCAL Integer i
	PUSH_VAL Integer 0i
	POP =
@_l_29:
	PUSH_VAR i
	PUSH_VAR mess
	CALL_METHOD GetLength
	<=
	JUMP_OK _l_46
	PUSH_VAR mess
	PUSH_VAR i
	CALL_METHOD Char
	PUSH_VAL Integer 10i
	!=
	JUMP_OK _l_41
	JUMP _l_46
@_l_41:
	PUSH_VAR i
	PUSH_VAL Integer 1i
	POP +=
	NOP
	JUMP _l_29
@_l_46:
	PUSH_VAR comment
	PUSH_VAR mess
	PUSH_VAR i
	CALL_METHOD Middle
	POP +=
	NOP
	PUSH_VAR comment
	PUSH_VAR comment
	PUSH_VAL String "
"
	PUSH_VAL String ""
	CALL_METHOD Replace
	POP =
	NOP
	PUSH_VAR comment
	PUSH_VAR comment
	PUSH_VAL String "  "
	PUSH_VAL String "　"
	CALL_METHOD Replace
	POP =
	NOP
	PUSH_VAR comment
	CALL_METHOD GetLength
	PUSH_VAL Integer 20i
	>
	JUMP_OK _l_79
	PUSH_VAR comment
	PUSH_VAR comment
	PUSH_VAL Integer 19i
	CALL_METHOD Left
	PUSH_VAL String "…"
	+
	POP =
	NOP
@_l_79:
	PUSH_VAR comment
	PUSH_VAR comment
	PUSH_VAL Integer 10i
	CALL AddjustString
	POP =
	NOP
	PUSH_VAL String "Save"
	PUSH_VAR id
	PUSH_VAL Integer 3i
	PUSH_VAL Integer -1i
	CALL CreateNumString
	+
	PUSH_VAL Integer -1i
	PUSH_VAR arrayHideSpr
	PUSH_VAR arrayShowSpr
	CALL Save
	NOP
	PUSH_OBJ  6
	GET_FIELD newBookmarkIndex
	PUSH_VAR id
	POP =
	NOP
	PUSH_OBJ  6
	GET_FIELD bookmark
	PUSH_VAR id
	GET_FIELD_BY_OFFSET
	GET_FIELD fSave
	PUSH_VAL Integer -1i
	POP =
	NOP
	PUSH_OBJ  6
	GET_FIELD bookmark
	PUSH_VAR id
	GET_FIELD_BY_OFFSET
	GET_FIELD comment
	PUSH_VAR comment
	POP =
	NOP
	PUSH_OBJ  6
	GET_FIELD bookmark
	PUSH_VAR id
	GET_FIELD_BY_OFFSET
	GET_FIELD time
	CALL GetLocalTime
	POP =
	NOP
	PUSH_OBJ  6
	GET_FIELD newBookmarkIndex
	PUSH_VAR id
	POP =
	NOP
	CALL SaveSystemData
	NOP
	NOP
@_l_133:
	PUSH_VAL Integer 0i
	Return
EndFunc

