Function ScWait(Integer time, Integer fKeyDisable)
	CALL IsLoad
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_6
	PUSH_VAL Integer 0i
	Return
@_l_6:
	INIT_LOCAL Integer fFlush
	PUSH_OBJ  10
	CALL_METHOD isKeyUpdateFlush
	POP =
	PUSH_VAR fFlush
	PUSH_VAL Integer -1i
	==
	JUMP_OK _l_16
	PUSH_VAL Integer 0i
	Return
@_l_16:
	INIT_LOCAL struct WndSpriteCmd wscmd
	CALL FlushJoyButton
	NOP
	INIT_LOCAL Integer nowTime
	CALL GetCurrentTime
	POP =
@_l_22:
	PUSH_VAR nowTime
	PUSH_VAR time
	+
	CALL GetCurrentTime
	>
	JUMP_OK _l_50
	PUSH_VAR fKeyDisable
	PUSH_VAL Integer 0i
	==
	JUMP_OK _l_49
	PUSH_VAR wscmd
	PUSH_VAL Integer 50i
	CALL GetCommand
	NOP
	PUSH_UNK
	PUSH_VAL Integer 4i
	CALL_METHOD GetJoyButtonPushed
	PUSH_VAL Integer 0i
	>
	PUSH_UNK
	PUSH_VAL Integer 5i
	CALL_METHOD GetJoyButtonPushed
	PUSH_VAL Integer 0i
	>
	or
	JUMP_OK _l_49
	JUMP _l_50
@_l_49:
	JUMP _l_22
@_l_50:
	CALL FlushJoyButton
	NOP
	PUSH_VAL Integer 0i
	Return
EndFunc

