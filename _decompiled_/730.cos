Function StaffRollView::cutSprite(Reference this, Reference spr, Reference src, Rect rect)
	PUSH_VAR spr
	CALL_METHOD Release
	NOP
	INIT_LOCAL struct Size size
	PUSH_VAR size
	PUSH_VAR rect
	GET_FIELD right
	PUSH_VAR rect
	GET_FIELD left
	-
	PUSH_VAR rect
	GET_FIELD bottom
	PUSH_VAR rect
	GET_FIELD top
	-
	CALL ISize
	POP =
	NOP
	PUSH_VAR spr
	PUSH_VAL Integer 1i
	PUSH_VAR size
	GET_FIELD w
	PUSH_VAR size
	GET_FIELD h
	CALL_METHOD CreateSprite
	NOP
	PUSH_VAR src
	CALL_METHOD GetType
	PUSH_VAL String "String"
	==
	JUMP_OK _l_53

	INIT_LOCAL struct Sprite sprTemp
	PUSH_VAR sprTemp
	PUSH_VAR src
	PUSH_VAL String ".eri"
	+
	CALL_METHOD LoadImage
	NOP
	INIT_LOCAL struct SpriteParam param
	PUSH_VAR sprTemp
	PUSH_VAR param
	CALL_METHOD GetParameter
	NOP
	PUSH_VAR spr
	PUSH_VAR sprTemp
	PUSH_VAR param
	PUSH_VAL Integer 0i
	PUSH_VAR rect
	CALL_METHOD DrawImage
	NOP
	NOP
	JUMP _l_72
@_l_53:
	PUSH_VAR src
	CALL_METHOD GetType
	PUSH_VAL String "Sprite"
	==
	JUMP_OK _l_72

	INIT_LOCAL struct SpriteParam param
	PUSH_VAR src
	PUSH_VAR sprTemp
	CALL_METHOD GetParameter
	NOP
	PUSH_VAR spr
	PUSH_VAR src
	PUSH_VAR sprTemp
	PUSH_VAL Integer 0i
	PUSH_VAR rect
	CALL_METHOD DrawImage
	NOP
	NOP
@_l_72:
	PUSH_VAL Integer 0i
	Return
EndFunc

