Function AdvScreen::copyAdvScreen(Reference this, Reference spr)
	spr.Release()
	spr.CreateSprite(67108865, {PUSH_OBJ  2}.w, {PUSH_OBJ  2}.h)   ; //TODO
	screen.Lock()
	NOP
	Integer fHide
	If ({PUSH_OBJ  10}.msgFrame.isShow() == -1)   ; //TODO
        {PUSH_OBJ  10}.msgFrame.hide(-1)   ; //TODO
        fHide := -1
    EndIf
	Integer i
	i := 0
    While (i <= 5)
        Reference info
        info := this.bustupMan.info[i]
        If (info.status == 128)
            this.bustupMan.spr[i].SetVisible(0)
        EndIf
        i += 1
    EndWhile
	screen.Refresh()
	NOP
	SpriteParam param
	param := sprAdvBase.GetParameter(info)
	info.nFlags |= 16
	spr.sprAdvBase.DrawImage(info)
	If (fHide == -1)
        {PUSH_OBJ  10}.msgFrame.show(-1)    ; //TODO
	EndIf
    i := 0
    While (i <= 5)
        Reference info
        info := this.bustupMan.info[i]
        If (param.status == 128)
            this.bustupMan.spr[i].SetVisible(-1)
        EndIf
        i += 1
    EndWhile
	screen.Unlock()
EndFunc

